<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atrapa en Pere!</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"> -->
    <style>
        #joc {
            width: 100%;
            height: 300px;
            background-color: #EBEEFF;
            position: relative;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91"/></svg>') 16 16, auto;
        }

        #talp {
            width: 75px;
            height: 75px;
            position: absolute;
            background-image: url('https://imgs.search.brave.com/7ItaZU05HjGD5tC83qPxQTmj-km9kqKM3CqsgzJ4UMY/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly91cGxv/YWQud2lraW1lZGlh/Lm9yZy93aWtpcGVk/aWEvY29tbW9ucy9l/L2UzL1BlcmVfQmFy/bmlscy5qcGc');
            background-size: cover;
            display: none;
            border-radius: 50%;
        }

        #puntuacio {
            font-size: 24px;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="content" id="preJoc">
        <h2>Atrapeu en Pere Barnils!</h2>
        <div id="joc">
            <div id="talp"></div>
        </div>
        <div id="puntuacio">Puntuaci√≥: <span id="punts">0</span></div>
    </div>


    <script>

        const audioMartell = new Audio('./martell.mp3');
        // const audioMartell = new Audio('https://docs.google.com/uc?id=1U0DXQZJC_HXTph5KkmUHJgRlYaAfljED&export=download');

        // const audioMartell = new Audio ('http://sndup.net/zhzmr');
        const joc = document.getElementById('joc');
        const talp = document.getElementById('talp');
        const puntsElement = document.getElementById('punts');
        let punts = 0;
        let talpVisible = false;

        function mostrarTalp() {
            if (talpVisible) return;

            const maxX = joc.clientWidth - 75;
            const maxY = joc.clientHeight - 75;
            const randomX = Math.floor(Math.random() * maxX);
            const randomY = Math.floor(Math.random() * maxY);

            talp.style.left = `${randomX}px`;
            talp.style.top = `${randomY}px`;
            talp.style.display = 'block';
            talpVisible = true;

            setTimeout(() => {
                talp.style.display = 'none';
                talpVisible = false;
                setTimeout(mostrarTalp, Math.random() * 1000);
            }, 1000);
        }

        talp.addEventListener('click', () => {
            if (talpVisible) {
                punts += 10;
                puntsElement.textContent = punts;
                talp.style.display = 'none';
                talpVisible = false;
                audioMartell.play().catch(error => {
                    console.error('Error playing audio:', error);
                });
            }
        });

        mostrarTalp();

    </script>
</body>

</html>
